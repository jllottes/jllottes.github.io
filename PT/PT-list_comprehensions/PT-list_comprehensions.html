

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>List comprehensions &mdash; MTH 337 - Fall 2025  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=7c08d473" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://jllottes.github.io/PT/PT-list_comprehensions/PT-list_comprehensions.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Plots with matplotlib" href="../PT-matplotlib_plots/PT-matplotlib_plots.html" />
    <link rel="prev" title="Mutable vs. immutable objects" href="../PT-mutable_vs_immutable/PT-mutable_vs_immutable.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../master.html" class="icon icon-home">
            MTH 337 - Fall 2025
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../weekly_schedule.html">Weekly Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../to_do.html">Current Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../report_guide.html">Project Report Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../useful_links.html">Useful links</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../python_tools.html">Python tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../PT-importing_modules.html">Importing modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-lists.html">Lists, ranges, and &quot;for&quot; loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-mutable_vs_immutable/PT-mutable_vs_immutable.html">Mutable vs immutable objects</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">List comprehensions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basic-comprehensions">Basic comprehensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#generalized-comprehensions">Generalized comprehensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#nested-comprehensions">Nested comprehensions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../PT-matplotlib_plots/PT-matplotlib_plots.html">Matplotlib plots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-matplotlib_subplots/PT-matplotlib_subplots.html">Matplotlib subplots</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-matplotlib_slider/PT-matplotlib_slider.html">The slider widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-numpy_arrays/PT-numpy_arrays.html">Numpy arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-multidimensional_numpy_arrays/PT-multidimensional_numpy_arrays.html">Multidimensional arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-boolean_numpy_arrays/PT-boolean_numpy_arrays.html">Boolean numpy arrays</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-image_processing/PT-image_processing.html">Image processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../PT-networkx_graphs/PT-networkx_graphs.html">NetworkX library</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Projects/prime_or_not/prime_or_not.html">A prime or not a prime</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../master.html">MTH 337 - Fall 2025</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../master.html">MTH 337</a> &raquo;</li>
        
          <li><a href="../../python_tools.html">Python tools</a> &raquo;</li>
        
      <li>List comprehensions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/PT/PT-list_comprehensions/PT-list_comprehensions.rst" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="list-comprehensions">
<h1>List comprehensions<a class="headerlink" href="#list-comprehensions" title="Link to this heading"></a></h1>
<section id="basic-comprehensions">
<h2>Basic comprehensions<a class="headerlink" href="#basic-comprehensions" title="Link to this heading"></a></h2>
<p>List comprehensions are a tool that in many cases makes it easier to
create a list of elements. For example, if we want to create a list of
squares of the first few positive integers, we can do it using the
<code class="docutils literal notranslate"><span class="pre">for</span></code> loop as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span> <span class="o">=</span> <span class="p">[]</span>              <span class="c1"># start with an empty list</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">squares</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># append n**2</span>

<span class="nb">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</p>
</div>
<p>The same task can be accomplished with less code using list
comprehensions:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>   <span class="c1"># list comprehension generating a list of squares</span>

<span class="nb">print</span><span class="p">(</span><span class="n">squares</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</p>
</div>
<p>The syntax of list comprehensions is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">item</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">iterable_object</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>Such code will take one by one items from the iterable object, compute
the value of the expression for each item, and create a list consisting
of all these values. The iterable object can be a list, tuple, string etc.
In the next example we use list comprehensions to create a list from
characters of a string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mylist</span>  <span class="o">=</span> <span class="p">[</span><span class="n">letter</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span> <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="s1">&#39;Buffalo&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[‘B!’, ‘u!’, ‘f!’, ‘f!’, ‘a!’, ‘l!’, ‘o!’]</p>
</div>
</section>
<section id="generalized-comprehensions">
<h2>Generalized comprehensions<a class="headerlink" href="#generalized-comprehensions" title="Link to this heading"></a></h2>
<p>In a more general form list comprehensions can include an <code class="docutils literal notranslate"><span class="pre">if</span></code>
statement. For example, in order to create a list of squares of odd
integers we can use the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">odd_squares</span> <span class="o">=</span> <span class="p">[]</span>                  <span class="c1"># start with an empty list</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>                  <span class="c1"># check if n is odd</span>
        <span class="n">odd_squares</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># if n is odd append n**2 to the list</span>

<span class="nb">print</span><span class="p">(</span><span class="n">odd_squares</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[1, 9, 25, 49, 81]</p>
</div>
<p>Using generalized list comprehensions we can get the same list as
follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">odd_squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">n</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">n</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">odd_squares</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[1, 9, 25, 49, 81]</p>
</div>
<p>The syntax of generalized comprehensions is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">expression</span><span class="o">&gt;</span> <span class="k">for</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">iterable_object</span><span class="o">&gt;</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>This code will take items from the iterable object, and check for each
item if the condition holds. If it does it will compute the value of the
expression, and produce a list consisting of all these values.</p>
<p>As one more application of this generalized syntax we create a list
consisting of all vowels in a string:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">vowels</span> <span class="o">=</span> <span class="p">[</span><span class="n">letter</span> <span class="k">for</span> <span class="n">letter</span> <span class="ow">in</span> <span class="s1">&#39;euforia&#39;</span> <span class="k">if</span> <span class="n">letter</span> <span class="ow">in</span> <span class="s1">&#39;aeiou&#39;</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">vowels</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[‘e’, ‘u’, ‘o’, ‘i’, ‘a’]</p>
</div>
</section>
<section id="nested-comprehensions">
<h2>Nested comprehensions<a class="headerlink" href="#nested-comprehensions" title="Link to this heading"></a></h2>
<p>List comprehensions can be nested to involve more than one variable. For
example, the following code takes values from two different lists of
strings and produces a list of combined strings:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">greeting_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s1">&#39;Hi&#39;</span><span class="p">]</span>
<span class="n">name_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Caroline&#39;</span><span class="p">]</span>

<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="n">greeting</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span> <span class="k">for</span> <span class="n">greeting</span> <span class="ow">in</span> <span class="n">greeting_list</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">name_list</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[‘Hello Alice!’, ‘Hello Bob!’, ‘Hello Caroline!’, ‘Hi Alice!’, ‘Hi Bob!’, ‘Hi Caroline!’]</p>
</div>
<p>The above code produces the same output as a nested <code class="docutils literal notranslate"><span class="pre">for</span></code> loop:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">greeting_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Hello&#39;</span><span class="p">,</span> <span class="s1">&#39;Hi&#39;</span><span class="p">]</span>
<span class="n">name_list</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Alice&#39;</span><span class="p">,</span> <span class="s1">&#39;Bob&#39;</span><span class="p">,</span> <span class="s1">&#39;Caroline&#39;</span><span class="p">]</span>

<span class="n">mylist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">greeting</span> <span class="ow">in</span> <span class="n">greeting_list</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">name_list</span><span class="p">:</span>
        <span class="n">mylist</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">greeting</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s1">&#39;!&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">mylist</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[‘Hello Alice!’, ‘Hello Bob!’, ‘Hello Caroline!’, ‘Hi Alice!’, ‘Hi Bob!’, ‘Hi Caroline!’]</p>
</div>
<p>Nested comprehensions can be used with the <code class="docutils literal notranslate"><span class="pre">if</span></code> statement. In the next
example we create a list of tuples <span class="math notranslate nohighlight">\((a, b)\)</span> such that <span class="math notranslate nohighlight">\(b\)</span>
divides <span class="math notranslate nohighlight">\(a\)</span>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">divisors</span> <span class="o">=</span> <span class="p">[(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="k">if</span> <span class="n">a</span><span class="o">%</span><span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">divisors</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[(1, 1), (2, 1), (2, 2), (3, 1), (3, 3), (4, 1), (4, 2), (4, 4), (5, 1), (5, 5)]</p>
</div>
<p>Equivalent code using nested <code class="docutils literal notranslate"><span class="pre">for</span></code> loops looks as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">divisors</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">a</span><span class="o">%</span><span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">divisors</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="n">divisors</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>[(1, 1), (2, 1), (2, 2), (3, 1), (3, 3), (4, 1), (4, 2), (4, 4), (5, 1), (5, 5)]</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../PT-matplotlib_plots/PT-matplotlib_plots.html" class="btn btn-neutral float-right" title="Plots with matplotlib" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../PT-mutable_vs_immutable/PT-mutable_vs_immutable.html" class="btn btn-neutral float-left" title="Mutable vs. immutable objects" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated"><br/>
        Last updated on Sep 18, 2025.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>