

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Image denoising &mdash; MTH 337 - Spring 2026  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=92fd9be5" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=7c08d473" />

  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://jllottes.github.io/Projects/image_denoising/image_denoising.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
      <script src="../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../master.html" class="icon icon-home">
            MTH 337 - Spring 2026
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Syllabus</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../weekly_schedule.html">Weekly Schedule</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../to_do.html">Current Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../report_guide.html">Project Report Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../useful_links.html">Useful links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_tools.html">Python tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../prime_or_not/prime_or_not.html">A prime or not a prime</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../master.html">MTH 337 - Spring 2026</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../master.html">MTH 337</a> &raquo;</li>
        
      <li>Image denoising</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Projects/image_denoising/image_denoising.rst" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="image-denoising">
<h1>Image denoising<a class="headerlink" href="#image-denoising" title="Link to this heading"></a></h1>
<p class="rubric">due: Friday, November 7th at 11:59 PM</p>
<section id="image-noise">
<h2>Image noise<a class="headerlink" href="#image-noise" title="Link to this heading"></a></h2>
<p>Image noise is a random distortion in the brightness or color in an
image. Noise appears to some extent in every image and can be created by
imperfections in cameras, random light fluctuations, errors occurring
during image recording, storage and transmission etc. There are several
different types of image noise. In this project we will be working with the
salt and pepper noise which occurs when the color of some random pixels in
the image is replaced by white, and the color of some other random pixels is
replaced by black.</p>
<figure class="align-center" id="id1">
<a class="reference internal image-reference" href="../../_images/image_denoising-1.png"><img alt="../../_images/image_denoising-1.png" src="../../_images/image_denoising-1.png" style="width: 500px;" /></a>
<figcaption>
<p><span class="caption-text"><em>Image with salt and pepper noise.</em></span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The main objective of this project is to experiment with tools that can
be used to reduce appearance of salt and pepper noise in an image. These
tools are the mean filter and the median filter.</p>
<p><strong>Note.</strong> In this project we will work with black and white images.
Color of each pixel will be described by a single number between 0 (black) and 1 (white).</p>
</section>
<section id="mean-filter">
<h2>Mean filter<a class="headerlink" href="#mean-filter" title="Link to this heading"></a></h2>
<p>Recall that the <em>mean</em> (or average) of numbers
<span class="math notranslate nohighlight">\((x_1, x_2, \dots, x_n)\)</span> is the number</p>
<div class="math notranslate nohighlight">
\[m  = \frac{1}{n}\sum_{i=1}^n x_i\]</div>
<p>The mean filter starts with an image and produces from it a new, filtered image
with modified pixel colors. More precisely, let <span class="math notranslate nohighlight">\(P[i, j]\)</span> denote the pixel
in the <span class="math notranslate nohighlight">\(i\)</span>-th row and <span class="math notranslate nohighlight">\(j\)</span>-th column of the original image, and let
<span class="math notranslate nohighlight">\(F[i, j]\)</span> denote the pixel in the same row and column of the filtered image.
The color of <span class="math notranslate nohighlight">\(F[i, j]\)</span> is computed as follows:</p>
<ol class="arabic simple">
<li><p>We select an n <span class="math notranslate nohighlight">\(\times\)</span> n square of pixels of the original
image that has <span class="math notranslate nohighlight">\(P[i,j]\)</span> at the center.</p></li>
<li><p>We compute the mean of values of pixels contained in the square.</p></li>
<li><p>This mean value gives the color of the pixel <span class="math notranslate nohighlight">\(F[i,j]\)</span>.</p></li>
</ol>
<p><strong>Example 1.</strong> The left side of the picture below shows a fragment of a
photo with a 3 <span class="math notranslate nohighlight">\(\times\)</span> 3 square of pixels selected. The
right side shows enlargement of the selected square with color value of
each pixel. <span class="math notranslate nohighlight">\(P[i, j]\)</span> is the pixel at the center of the square.</p>
<a class="reference internal image-reference" href="../../_images/image_denoising-2.svg"><img alt="../../_images/image_denoising-2.svg" class="align-center" src="../../_images/image_denoising-2.svg" width="650px" /></a>
<p>The value of <span class="math notranslate nohighlight">\(F[i,j]\)</span>, the pixel of the filtered image, is given by
the mean of the array</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix}
0.6 &amp; 0.7 &amp; 0.4 \\
0.7 &amp; 0.6 &amp; 0.1 \\
0.5 &amp; 0.5 &amp; 0.0 \\
\end{bmatrix}\end{split}\]</div>
<p>We can use numpy to compute this mean:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">square</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>
                   <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span>
                   <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]])</span>

<span class="n">sq_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sq_mean</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>0.455555555556</p>
</div>
<p>Thus <span class="math notranslate nohighlight">\(F[i,j]\)</span> = 0.455555555556.</p>
</section>
<section id="median-filter">
<h2>Median filter<a class="headerlink" href="#median-filter" title="Link to this heading"></a></h2>
<p>The median filter is similar to the mean filter, but instead of using
the mean of values of pixels in a square it takes the median of these
values. Recall that if <span class="math notranslate nohighlight">\(n\)</span> is odd then the <em>median</em> of a
collection of numbers <span class="math notranslate nohighlight">\((x_1, x_2, \dots, x_n)\)</span> is the number
<span class="math notranslate nohighlight">\(x_i\)</span> which is in the middle of the list when these numbers are
arranged from the smallest to the largest. For example, the median of
(1, 7, 7, 14, 21, 45, 101) is 14, since on this list there are 3 numbers
smaller than 14 and 3 that are larger. If a list consists of an even number of
values then the median is the average of the two middle numbers. For
example, the median of (1, 7, 10, 14, 45, 101) is 12, since this is the
average of 10 and 14.</p>
<p>The median filter works as follows:</p>
<ol class="arabic simple">
<li><p>For each pixel <span class="math notranslate nohighlight">\(P[i, j]\)</span> of the original image we select a
n <span class="math notranslate nohighlight">\(\times\)</span> n square of pixels that has <span class="math notranslate nohighlight">\(P[i, j]\)</span> at
the center.</p></li>
<li><p>We compute the median of values of all pixels in the square.</p></li>
<li><p>This median is the color of the pixel <span class="math notranslate nohighlight">\(F[i, j]\)</span> in the filtered
image.</p></li>
</ol>
<p><strong>Example 2.</strong> We use the same square of pixels as in Example 1. The value
of <span class="math notranslate nohighlight">\(F[i, j]\)</span> is the median of values of the pixels in this square. Using
numpy we obtain:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">square</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">],</span>
                   <span class="p">[</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">],</span>
                   <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]])</span>

<span class="n">sq_median</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">square</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sq_median</span><span class="p">)</span>
</pre></div>
</div>
<div class="output docutils container">
<p>0.5</p>
</div>
<p>Therefore <span class="math notranslate nohighlight">\(F[i, j]\)</span> = 0.5.</p>
<p><strong>Note.</strong> The mean filter and the median filter can be modified by using
larger squares (5 <span class="math notranslate nohighlight">\(\times\)</span> 5, 7 <span class="math notranslate nohighlight">\(\times\)</span> 7 etc.) to
compute mean and median. In each case the length of sides of the square
must be an odd number, so that there is a pixel in the center of the
square.</p>
</section>
<section id="edge-pixels">
<h2>Edge pixels<a class="headerlink" href="#edge-pixels" title="Link to this heading"></a></h2>
<p>While implementing mean and median filters we need to deal
with the issue of pixels that are close to image edges, since for such
pixels the square used to calculate mean or median may go outside the
image:</p>
<a class="reference internal image-reference" href="../../_images/image_denoising-3.svg"><img alt="../../_images/image_denoising-3.svg" class="align-center" src="../../_images/image_denoising-3.svg" width="312px" /></a>
<p>One way to deal with this problem is to enlarge the image adding a
border on each side of some fixed color (say, white). The width of the
border will depend on the size of the squares used by the filter: for
3 <span class="math notranslate nohighlight">\(\times\)</span> 3 squares it will suffice to add a border 1 pixel wide,
for 5 <span class="math notranslate nohighlight">\(\times\)</span> 5 squares the width should be 2 pixels and so on.
In this way a square centered at any pixel of the original image will fit
inside the enlarged image, and we will be able to compute its mean or median.</p>
<a class="reference internal image-reference" href="../../_images/image_denoising-4.svg"><img alt="../../_images/image_denoising-4.svg" class="align-center" src="../../_images/image_denoising-4.svg" width="312px" /></a>
</section>
<section id="project">
<h2>Project<a class="headerlink" href="#project" title="Link to this heading"></a></h2>
<p><strong>Part 1.</strong> Write a function <code class="docutils literal notranslate"><span class="pre">sp_noise(img,</span> <span class="pre">noise)</span></code> that adds salt
and pepper noise to an image. Its first argument <code class="docutils literal notranslate"><span class="pre">img</span></code> should be
a 2-dimensional numpy array representing the image and the second argument
<code class="docutils literal notranslate"><span class="pre">noise</span></code> should be the fraction of pixels that are to be replaced by noise
(for example, with <code class="docutils literal notranslate"><span class="pre">noise</span> <span class="pre">=</span> <span class="pre">0.05</span></code> about 5% of pixels should be noise,
consisting in roughly equal parts of white and black pixels). The function
should return a 2-dimensional numpy array representing the original image
with noise added.</p>
<p><strong>Part 2.</strong> Write a function <code class="docutils literal notranslate"><span class="pre">mean_filter(img,</span> <span class="pre">s)</span></code> that takes as its
first argument a 2-dimensional numpy array <code class="docutils literal notranslate"><span class="pre">img</span></code> representing an image,
and returns a numpy array obtained by applying to <code class="docutils literal notranslate"><span class="pre">img</span></code> the mean filter.
The second argument of the function, <code class="docutils literal notranslate"><span class="pre">s</span></code> is the size of square of pixels
used by the filter (i.e. if <code class="docutils literal notranslate"><span class="pre">s</span></code> = 3 then the filter will use
3 <span class="math notranslate nohighlight">\(\times\)</span> 3 squares etc.).</p>
<p><strong>Part 3.</strong> Write a function <code class="docutils literal notranslate"><span class="pre">median_filter(img,</span> <span class="pre">s)</span></code> that takes as its
argument a numpy <code class="docutils literal notranslate"><span class="pre">img</span></code> array representing an image, and returns a
numpy array obtained by applying to <code class="docutils literal notranslate"><span class="pre">img</span></code> the median filter. Again,
the second argument <code class="docutils literal notranslate"><span class="pre">s</span></code> is the size of squares used by the filter.</p>
<p><strong>Part 4.</strong> Investigate how suitable these filters are for reducing
salt and pepper noise in images and describe your observations. Here are
some questions you may consider:</p>
<ul class="simple">
<li><p>Which filter, mean or median works better for reducing noise and why?</p></li>
<li><p>What happens as the value of <code class="docutils literal notranslate"><span class="pre">s</span></code> in these filters is increased?</p></li>
<li><p>What happens as the level of noise in an image is increased?</p></li>
</ul>
<p><strong>Part 5.</strong> Write your own filter to try and improve the noise reduction performance
of the mean/median filter. Here are some ideas to try:</p>
<ul class="simple">
<li><p>Following the general scheme of the mean/median filter, you can try using other formulas to produce a new pixel value at the center of each square.</p></li>
<li><p>You can try to be selective about which pixels will be filtered.</p></li>
<li><p>You can come up with new ways to filter the edge pixels that don’t involve an arbitrary choice of padding color.</p></li>
</ul>
<p><strong>Note.</strong> Below are links to black and white photos that you can use in
your work. You can add salt and pepper noise to these images using the
function <code class="docutils literal notranslate"><span class="pre">sp_noise()</span></code> defined in Part 1 of the project.</p>
<ul class="simple">
<li><p><a class="reference download internal" download="" href="../../_downloads/97a0c31f2a8a371dc2b704df1a082bf5/face.png"><code class="xref download docutils literal notranslate"><span class="pre">face.png</span></code></a> (resolution: 400 <span class="math notranslate nohighlight">\(\times\)</span> 266)</p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/47a7163244a52d68c38cb8afbc30e537/boston.png"><code class="xref download docutils literal notranslate"><span class="pre">boston.png</span></code></a> (resolution: 1000 <span class="math notranslate nohighlight">\(\times\)</span> 666)</p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/45f865b91b02fb924532bfca66ed9f33/circuit.png"><code class="xref download docutils literal notranslate"><span class="pre">circuit.png</span></code></a> (resolution: 640 <span class="math notranslate nohighlight">\(\times\)</span> 426)</p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/d05505a0b9d8d3119f563b8a9a83ebb8/motorbike.png"><code class="xref download docutils literal notranslate"><span class="pre">motorbike.png</span></code></a> (resolution: 640 <span class="math notranslate nohighlight">\(\times\)</span> 552)</p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/cde6570a3e47572a103811fcdd789464/hamburg.png"><code class="xref download docutils literal notranslate"><span class="pre">hamburg.png</span></code></a> (resolution: 900 <span class="math notranslate nohighlight">\(\times\)</span> 600)</p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/a879ba154906bdac3d8ab4138bfb1f40/sign.png"><code class="xref download docutils literal notranslate"><span class="pre">sign.png</span></code></a> (resolution: 1000 <span class="math notranslate nohighlight">\(\times\)</span> 984)</p></li>
</ul>
</section>
<section id="extra-credit">
<h2>Extra credit<a class="headerlink" href="#extra-credit" title="Link to this heading"></a></h2>
<p>Below are links to four photos taken at various places on
campus, which were obscured by salt and pepper noise. For extra credit
(grade increase to the next higher grade for this report: A- to A etc.) reduce
noise in these images, find locations where the photos were taken, take photos
showing you at the same locations, and include these photos in your report.</p>
<ul class="simple">
<li><p><a class="reference download internal" download="" href="../../_downloads/1e802b6131c1360cea154f70355628eb/ub_noisy1.png"><code class="xref download docutils literal notranslate"><span class="pre">ub_noisy1.png</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/696cdc6a20afccd50ab538e9d6d05d58/ub_noisy2.png"><code class="xref download docutils literal notranslate"><span class="pre">ub_noisy2.png</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/04c1df9ea40f40df382d1481c991f979/ub_noisy3.png"><code class="xref download docutils literal notranslate"><span class="pre">ub_noisy3.png</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../../_downloads/b7e01e8d2ab433402766ba9a64c00cc1/ub_noisy4.png"><code class="xref download docutils literal notranslate"><span class="pre">ub_noisy4.png</span></code></a></p></li>
</ul>
<p><strong>Note 1.</strong> To qualify for the extra credit your report must include
both code producing images with noise removed to the extent that they are
recognizable, and your own photos. You must successfully denoise all four images.</p>
<p><strong>Note 2.</strong> In order to include your photos in the report do the following:</p>
<ul class="simple">
<li><p>Place the files with your photos in the folder with your report notebook.</p></li>
<li><p>For each photo create a code cell in your notebook. In this code cell
enter the following code, replacing <code class="docutils literal notranslate"><span class="pre">&quot;my_photo.png&quot;</span></code> with the name of your
photo file:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="s2">&quot;my_photo.png&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>When you execute this cell the photo should be displayed.</p></li>
<li><p>Once you embed all photos in this way you can submit the notebook file.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <span class="lastupdated"><br/>
        Last updated on Feb 16, 2026.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>